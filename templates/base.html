<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site_title }}</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- 引入ScrollReveal实现苹果风格滚动渐显动画 -->
    <script src="https://unpkg.com/scrollreveal@4.0.9/dist/scrollreveal.min.js"></script>

    <!-- 自定义Tailwind配置（苹果官网配色+新增渐变） -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // 苹果官网核心配色
                        apple: {
                            black: '#1D1D1F',
                            white: '#FFFFFF',
                            gray: '#86868B',
                            lightgray: '#F5F5F7',
                            hover: '#0071E3', // 苹果交互主色
                            gradient: '#E8E8ED' // 渐变辅助色
                        }
                    },
                    fontFamily: {
                        // 苹果San Francisco字体替代
                        sf: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif']
                    },
                    backgroundImage: {
                        // 苹果风格渐变背景
                        'apple-gradient': 'linear-gradient(180deg, #F5F5F7 0%, #E8E8ED 100%)',
                        'apple-card-gradient': 'linear-gradient(145deg, #FFFFFF 0%, #F8F8FA 100%)'
                    }
                }
            }
        }
    </script>

    <!-- 自定义样式（苹果风格+动画） -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            /* 苹果风格平滑滚动 */
            .scroll-smooth {
                scroll-behavior: smooth;
            }
            /* 导航栏滚动渐变效果（苹果磨砂玻璃） */
            .nav-scrolled {
                background-color: rgba(255, 255, 255, 0.85);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                box-shadow: 0 1px 8px rgba(0, 0, 0, 0.03);
            }
            /* 苹果风格卡片hover微动效（3D+阴影） */
            .card-hover {
                transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
                transform-style: preserve-3d;
            }
            .card-hover:hover {
                transform: translateY(-6px) rotateX(2deg) rotateY(1deg);
                box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
            }
            /* 苹果风格文字渐变 */
            .text-gradient {
                background: linear-gradient(90deg, #1D1D1F 0%, #0071E3 100%);
                -webkit-background-clip: text;
                background-clip: text;
                color: transparent;
            }
            /* 背景缓慢平移动画（苹果官网动态背景效果） */
            .bg-animate {
                background-position: 0 0;
                animation: bgMove 20s ease infinite alternate;
            }
            @keyframes bgMove {
                0% { background-position: 0 0; }
                100% { background-position: 0 -20px; }
            }
        }
    </style>
</head>

<body class="font-sf bg-apple-lightgray text-apple-black scroll-smooth bg-animate bg-apple-gradient">
    <!-- 导航栏 -->
    {{ nav_html|safe }}

    <!-- 主要内容 -->
    {{ content_html|safe }}

    <!-- 页脚 -->
    {{ footer_html|safe }}

    <!-- JavaScript交互逻辑（苹果风格动画+功能） -->
    <script>
        // 1. 导航栏滚动磨砂效果
        const nav = document.getElementById('main-nav');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                nav.classList.add('nav-scrolled');
            } else {
                nav.classList.remove('nav-scrolled');
            }
        });

        // 2. 移动端菜单切换
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            // 切换菜单图标（汉堡/叉号）
            const icon = menuBtn.querySelector('i');
            if (icon.classList.contains('fa-bars')) {
                icon.classList.replace('fa-bars', 'fa-xmark');
            } else {
                icon.classList.replace('fa-xmark', 'fa-bars');
            }
        });

        // 3. 平滑滚动（关闭移动端菜单）
        const navLinks = document.querySelectorAll('nav a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                    const icon = menuBtn.querySelector('i');
                    icon.classList.replace('fa-xmark', 'fa-bars');
                }
            });
        });

        // 4. 苹果风格滚动渐显动画配置
        ScrollReveal({
            origin: 'bottom',
            distance: '20px',
            duration: 800,
            easing: 'cubic-bezier(0.25, 0.8, 0.25, 1)',
            reset: false,
            viewFactor: 0.1
        });
        // 初始化所有带reveal-element类的元素
        ScrollReveal().reveal('.reveal-element');
    </script>
</body>
</html>
